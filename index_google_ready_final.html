<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Formulaire Tigydoo</title>
<style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f4f8;
    }

    header {
      background: #0054a6;
      color: white;
      padding: 1rem;
      text-align: center;
    }

    form {
      max-width: 600px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .form-group {
      margin-bottom: 1.2rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }

    input, select, textarea {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }

    button {
      background: #0054a6;
      color: white;
      padding: 0.8rem 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      width: 100%;
    }

    button:hover {
      background: #3f51b5;
    }

    @media (max-width: 600px) {
      form {
        padding: 1rem;
        margin: 1rem;
      }

      h1 {
        font-size: 1.4rem;
      }
    }
  </style>
</head>
<body>
<header>
<h1>Formulaire de Contact Tigydoo</h1>
</header>
<form id="formulaire-tigydoo">
<div class="form-group">
<label for="nom">Nom complet<span class="required">*</span></label>
<input id="nom" name="nom" placeholder="Votre nom" required="" type="text"/>
</div>
<div class="form-group">
<label for="email">Adresse email<span class="required">✉</span></label>
<span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: gray;">@</span>
<div style="display: flex; align-items: center;">
<span style="padding: 0.8rem; background-color: #e0e7ef; border: 1px solid #ccc; border-right: none; border-radius: 5px 0 0 5px;">@</span>
<input id="email" name="email" placeholder="exemple@domaine.com" required="" style="flex: 1; border-radius: 0 5px 5px 0;" type="email"/>
</div>
</div>
<div class="form-group">
<label for="telephone">Cellulaire<span class="required">*</span></label>
<div style="display: flex; align-items: center;">
<span style="padding: 0.8rem; background-color: #e0e7ef; border: 1px solid #ccc; border-right: none; border-radius: 5px 0 0 5px;">+1</span>
<input id="telephone" name="telephone" pattern="\(\d{3}\) \d{3}-\d{4}" placeholder="(000) 000-0000" required="" style="flex: 1; border-radius: 0 5px 5px 0;" type="tel"/>
</div>
<small>Format : (450) 123-4567</small>
</div>
<div class="form-group">
<label for="porte">N° de porte</label>
<input id="porte" name="porte" placeholder="123" type="text"/>
</div>
<div class="form-group">
<label for="type_voie">Adresse</label>
<select id="type_voie" name="type_voie" required="">
<option value="">-- Sélectionnez le type de voie --</option>
<option value="Rue">Rue</option>
<option value="Place">Place</option>
<option value="Boulevard">Boulevard</option>
<option value="Avenue">Avenue</option>
<option value="Rang">Rang</option>
</select>
</div>
<div class="form-group" id="nom_voie_group" style="display: none;">
<label for="nom_voie">Nom de la voie sélectionnée</label>
<input id="nom_voie" name="nom_voie" placeholder="ex: Sainte-Catherine" type="text"/>
</div>
<div class="form-group">
<label for="ville">Ville</label>
<input id="ville" name="ville" type="text"/>
</div>
<div class="form-group">
<label for="province">Province</label>
<select id="province" name="province" required="" style="background-color: #e0e7ef;">
<option value="">-- Sélectionnez une province --</option>
<option value="AB">Alberta</option>
<option value="BC">Colombie-Britannique</option>
<option value="MB">Manitoba</option>
<option value="NB">Nouveau-Brunswick</option>
<option value="NL">Terre-Neuve-et-Labrador</option>
<option value="NS">Nouvelle-Écosse</option>
<option value="NT">Territoires du Nord-Ouest</option>
<option value="NU">Nunavut</option>
<option value="ON">Ontario</option>
<option value="PE">Île-du-Prince-Édouard</option>
<option value="QC">Québec</option>
<option value="SK">Saskatchewan</option>
<option value="YT">Yukon</option>
</select>
</div>
<div class="form-group">
<label for="code_postal">Code postal</label>
<input id="code_postal" name="code_postal" placeholder="A1A 1A1" type="text"/>
</div>
<div class="form-group">
<label for="services">Services souhaités</label>
<select id="services" name="services" required="" style="background-color: #f9f9fb; padding: 0.6rem; border-radius: 5px; border: 1px solid #ccc;">
<option value="">-- Choisir un service --</option>
<option value="FORFAIT CELLULAIRE">FORFAIT CELLULAIRE</option>
<option value="TRIO">TRIO</option>
<option value="DUO TV + INT">DUO TV + INT</option>
<option value="DUO INT + TPC">DUO INT + TPC</option>
<option value="TOUS">TOUS</option>
</select>
</div>
<button style="background-color:#3399ff; color:white; padding:0.8rem 1.5rem; border:none; border-radius:5px; cursor:pointer; font-size:1rem; margin-top:1rem;" type="submit">Soumettre</button></form>
<script>
    document.getElementById("contact-form").addEventListener("submit", function (e) {
      e.preventDefault();
      const form = e.target;
      const data = new FormData(form);
      fetch(form.action, {
        method: "POST",
        body: data,
      })
      .then(() => {
        form.reset();
        window.location.href = "merci.html";
      })
      .catch(err => alert("Erreur d'envoi : " + err));
    });
  </script>
<script>
  document.getElementById('telephone').addEventListener('input', function (e) {
    let x = e.target.value.replace(/\D/g, '').substring(0, 10);
    let formatted = '';
    if (x.length > 0) formatted += '(' + x.substring(0, 3);
    if (x.length >= 4) formatted += ') ' + x.substring(3, 6);
    if (x.length >= 7) formatted += '-' + x.substring(6, 10);
    e.target.value = formatted;
  });
</script>
<script>
document.getElementById('type_voie').addEventListener('change', function () {
  var nomVoieGroup = document.getElementById('nom_voie_group');
  if (this.value) {
    nomVoieGroup.style.display = 'block';
  } else {
    nomVoieGroup.style.display = 'none';
  }
});
</script>
<script>
document.getElementById("formulaire-tigydoo").addEventListener("submit", function(e) {
  e.preventDefault();

  const form = e.target;
  const data = new FormData(form);

  fetch("https://script.google.com/macros/s/AKfycbzGeQ_l3q_q3VbrUwED3B2qqLDs6ALaAazxkzPGTyAv7Loj04sbc7w-a1bH46ZDiJo/exec", {
    method: "POST",
    body: data
  })
  .then(response => {
    if (response.ok) {
      window.location.href = "merci.html";
    } else {
      alert("Une erreur est survenue lors de l'envoi.");
    }
  })
  .catch(error => {
    console.error("Erreur :", error);
    alert("Une erreur technique est survenue.");
  });
});
</script><script>
document.getElementById("formulaire-tigydoo").addEventListener("submit", function(e) {
  e.preventDefault();

  const form = e.target;
  const data = new FormData(form);

  fetch("https://script.google.com/macros/s/AKfycbwFTwYVjXMYxfqbJj6gk2CN0VrZJVMf48PRSeZ0kLUdn8TRDXuHby8x7gg1nQhcy4HL/exec", {
    method: "POST",
    body: data
  })
  .then(response => {
    if (response.ok) {
      window.location.href = "merci.html";
    } else {
      alert("Une erreur est survenue lors de l'envoi.");
    }
  })
  .catch(error => {
    console.error("Erreur :", error);
    alert("Une erreur technique est survenue.");
  });
});
</script></body>
</html>
