<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Untitled</title>
  

</head>
<body>
<!-- partial:index.partial.html -->
<div style="max-width: 800px; margin: auto; padding: 20px; font-family: Arial, sans-serif; background-color: #111; color: #f5f0e1; border-radius: 10px;">
  <h1 style="text-align: center; font-size: 2.5em;">Tu mérites mieux</h1>
  <p style="text-align: center; font-size: 1.2em;">Laissez vos coordonnées et nous vous contacterons</p>

  <form id="contactForm">
    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
      <div style="flex: 1; min-width: 250px;">
        <label>Nom Complet</label><br>
        <input type="text" name="nom" required style="width: 100%; padding: 10px; background-color: #222; border: none; color: #fff; border-radius: 5px;">
      </div>

      <div style="flex: 1; min-width: 250px;">
        <label>Numéro de Téléphone</label><br>
        <input type="tel" name="telephone" required style="width: 100%; padding: 10px; background-color: #222; border: none; color: #fff; border-radius: 5px;">
      </div>

      <div style="flex: 1; min-width: 250px;">
        <label>Adresse Courriel</label><br>
        <input type="email" name="email" required style="width: 100%; padding: 10px; background-color: #222; border: none; color: #fff; border-radius: 5px;">
      </div>

      <div style="flex: 1; min-width: 250px;">
        <label>Services Souhaités</label><br>
        <div onclick="toggleDropdown()" id="servicesToggle" style="background-color: #222; padding: 10px; border-radius: 5px; cursor: pointer;">▼ Choisir un service</div>
        <div id="dropdownContainer" style="overflow: hidden; transition: max-height 0.5s ease; max-height: 0px;">
          <select name="services" required style="width: 100%; margin-top: 10px; padding: 10px; background-color: #222; border: none; color: #fff; border-radius: 5px;">
            <option value="">-- Choisir un service --</option>
            <option value="FORFAIT CELLULAIRE">FORFAIT CELLULAIRE</option>
            <option value="TRIO">TRIO</option>
            <option value="DUO TV + INT">DUO TV + INT</option>
            <option value="DUO INT + TPC">DUO INT + TPC</option>
            <option value="TOUS">TOUS</option>
          </select>
        </div>
      </div>

      <div style="flex: 1; min-width: 250px;">
        <label>Code Postal</label><br>
        <input type="text" name="code_postal" required style="width: 100%; padding: 10px; background-color: #222; border: none; color: #fff; border-radius: 5px;">
      </div>
    </div>

    <div style="text-align: center; margin-top: 20px;">
      <button type="submit" style="background-color: #e26330; color: #fff; border: none; padding: 15px 30px; font-size: 1em; border-radius: 30px; cursor: pointer;">
        ➔ Soumettre
      </button>
    </div>

    <p id="confirmationMessage" style="text-align:center; margin-top:20px; display:none; color:#4CAF50;">Merci ! Votre formulaire a bien été envoyé.</p>
  </form>
</div>

<style>
  .highlight {
    animation: pulse 0.6s ease-in-out;
  }

  @keyframes pulse {
    0% { background-color: #e26330; color: white; }
    100% { background-color: #222; color: white; }
  }
</style>

<script>
  function toggleDropdown() {
    const container = document.getElementById("dropdownContainer");
    const toggle = document.getElementById("servicesToggle");
    
    // Animation sur le clic
    toggle.classList.add("highlight");
    setTimeout(() => toggle.classList.remove("highlight"), 600);

    container.style.maxHeight = container.style.maxHeight === "0px" || container.style.maxHeight === "" ? "200px" : "0px";
  }

  document.getElementById("contactForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const formData = new FormData(this);

    fetch("https://script.google.com/macros/s/AKfycbwFTwYVjXMYxfqbJj6gk2CN0VrZJVMf48PRSeZ0kLUdn8TRDXuHby8x7gg1nQhcy4HL/exec", {
      method: "POST",
      body: formData
    })
    .then(response => response.text())
    .then(result => {
      // Affichage d'un message au lieu de redirection
      document.getElementById("confirmationMessage").style.display = "block";
      document.getElementById("contactForm").reset();
      document.getElementById("dropdownContainer").style.maxHeight = "0px";
    })
    .catch(error => {
      console.error("Erreur lors de l'envoi :", error);
      alert("Erreur lors de l'envoi. Veuillez réessayer.");
    });
  });
</script>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
